# This file is managed by 'repo_helper'. Don't edit it directly.
---

language: python
dist: focal
cache: pip
python:
  - '3.6'
  - '3.7'
  - '3.8'
  - '3.9'
  - '3.10-dev'

arch:
  - amd64
  - arm64
install:

  - pip install --upgrade pip
  - pip install tox tox-travis


script:
  - tox -vv


stages:
  - test
  - deploy_pypi


jobs:
  allow_failures:
    - arch: arm64
    - python: ['3.10-dev']

  exclude:
    - python: '3.7'
      arch: arm64
    - python: '3.8'
      arch: arm64
    - python: '3.9'
      arch: arm64
    - python: '3.10-dev'
      arch: arm64

  include:
    - stage: test
      dist: bionic
      python: 3.8

    - stage: deploy_pypi
      python: "3.6"
      script: skip
      deploy:
        on:
          tags: true
          repo: domdfcoding/dep_checker
        provider: pypi
        user: "DomDF"
        password:
          secure: wLKLRiD3W99LubkhyKX0eDDBoDuKWIzGN3oTBSN/j2rlTGXc+6I/wWkOui5vQSEOCCo/uipHCQ2Ggh76cdjqJdhr//BaRHG5Tf4XeKJNgOZaAvhH+4+SgflzY87Xqb4HsDtPEXjugPNkcFy31zLbkDRBnIm5Cfz3OIK6FlDgXIt3P1lSCAThQKY/RU/+GjKNoENXZGL3YHMftWdPJ5c9DNNhkUJY6Vok9CaLKIyeRHZQT/xgOWiXGAz2bKBRL1sm/IBzaHviQHG8fRzE7/neqX583FFhd0wdksk08q6MoXHDzo7UBJGbRtqWp0MfTlR4AY6WhyNXOWaXKANqAAjiZqpb50AZgnVRD2Gu2y3Sya2Yf1Rj0fIqlapPxCz3uBhz21rH+1T0ILVZXF0NKKOC/IgBz5UpBrVSMBHMdBIbDpLUPbEQcIySe1zzgkjo8PeQ6MVoX1M5HN4rPb71Ie8y8PqIpD6mZCIO+KpqIEp/XiHnOkzW8jlva6mUz5s3gfaG9E6docgV2oaFg952ozCTF+lfb/RfgKqJ2yoA7qhPKrVwiNKNZJGStB93mjSbPiZhwqhiv2ZcG85mXkl5R+uNp8/9Ey8bgq9Hzmc/xBsEjkPP6qq+LbYoZhnyAnbL0Fyq8tEPDCCAwBGskzTZsFFcXhupGrAW4eZsQE7dsPaf/4s=
        distributions: "sdist bdist_wheel"
        skip_existing: true
